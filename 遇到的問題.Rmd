---
title: "系統架構與技術問題筆記"
output: html_document
---

# 🧱 系統架構問題（Architecture Problems）

| 編號 | 問題描述 | 初步解法 / 思考方向 |
|------|----------|----------------------|
| A1 | 10GB 資料無法放入記憶體，要如何設計資料流與儲存？ | Sliding Buffer + 分段寫檔 + mmap / offset 查詢 |
| A2 | GUI 顯示與 socket 接收耦合，導致延遲與卡頓 | 生產者-消費者模型 + thread-safe queue 分離接收與顯示 |
| A3 | Socket server 和 GUI 之間的資料同步問題 | queue + 單向資料流動 + GUI 以事件驅動更新 |
| A4 | 系統模組職責不清，容易出現維護混亂 | 模組劃分（如 NetworkManager, DiskManager, GuiRenderer）+ 責任分層 |
| A5 | 未來想擴充（例如多客戶端、分佈式）卻沒有準備好介面 | 預留 interface + 封裝傳輸層 + 明確邊界定義（防耦合） |
| A6 | 從 API 獲取大量資料後，要選擇何種儲存方式？ | 根據資料用途分流：<br>1. 資料庫：需要長期儲存、查詢、關聯性處理<br>2. 檔案（I/O）：作為備份、log 或中繼格式<br>3. 記憶體：短期、高速暫存，適合即時顯示 |
---

# 🔧 技術實作問題（Technical Problems）

| 編號 | 問題描述 | 解法 / 實作方式 |
|------|----------|----------------|
| T1 | TCP 資料傳輸會碎片化，導致接收端收到不完整 | 封包格式：Header 包含長度欄位 + 組包邏輯 |
| T2 | GUI 是單執行緒，直接操作 IO 或 socket 會卡住 | 用 Qt signal-slot / QThread 把 IO 放背景執行 |
| T3 | JSON 過大，解析效能低 | 改成 binary 格式或搭配 fast JSON parser（如 RapidJSON） |
| T4 | 多執行緒同時操作 queue 可能出現 race | 用 `std::mutex` 或 `std::condition_variable` 保護 queue |
| T5 | 資料寫檔速度慢，影響即時處理 | 批次寫檔 + 設定 buffer + 非同步寫入 |

---

# 📌 備註

- 架構問題：關注模組劃分、資料流動、可維護性與擴充性。
- 技術問題：關注底層效能、同步、安全與語法正確性。

